# dYdX Order Routing Service - Preprod Environment Configuration
# Copy this file to .env.preprod and fill in the actual values

# Server Configuration
PORT=8080
LOG_LEVEL=info
LOG_FORMAT=json
ENVIRONMENT=preprod

# Database Configuration
DB_PASSWORD=your-secure-db-password-preprod
DATABASE_MAX_OPEN_CONNS=25
DATABASE_MAX_IDLE_CONNS=5
DATABASE_CONN_MAX_LIFETIME=5m

# dYdX Configuration (Testnet for preprod)
DYDX_NETWORK=testnet
INDEXER_URL=https://indexer.v4testnet.dydx.exchange
RPC_URL=https://test-dydx-rpc.kingnodes.com:443
CHAIN_ID=dydx-testnet-4

# Wallet Configuration - TESTNET ONLY
# Use a dedicated testnet wallet, never use mainnet funds
MNEMONIC="your testnet mnemonic phrase here twelve words for testing purposes only"
WALLET_HD_PATH="m/44'/118'/0'/0/0"

# Security Configuration
API_KEY=your-secure-api-key-preprod-32-chars-min
RATE_LIMIT_REQUESTS_PER_MINUTE=200
RATE_LIMIT_BURST=50
REQUEST_TIMEOUT=30s
MAX_REQUEST_SIZE=2MB

# CORS Configuration
CORS_ALLOWED_ORIGINS=https://preprod.cryptopulse.com,https://staging.cryptopulse.com

# Monitoring Configuration
METRICS_ENABLED=true
HEALTH_CHECK_INTERVAL=30s

# Circuit Breaker Configuration
CIRCUIT_BREAKER_ENABLED=true
CIRCUIT_BREAKER_MAX_FAILURES=5
CIRCUIT_BREAKER_RESET_TIMEOUT=60s
CIRCUIT_BREAKER_SUCCESS_THRESHOLD=3

# Retry Configuration
RETRY_ENABLED=true
RETRY_MAX_ATTEMPTS=3
RETRY_INITIAL_DELAY=1s
RETRY_MAX_DELAY=30s
RETRY_MULTIPLIER=2.0
RETRY_JITTER=true

# Redis Configuration
REDIS_PASSWORD=your-secure-redis-password-preprod

# Monitoring Passwords
GRAFANA_PASSWORD=your-secure-grafana-password-preprod

# SSL Configuration (if using custom certificates)
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=7

# Alerting Configuration
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
ALERT_EMAIL=alerts@cryptopulse.com

# Performance Tuning
GO_MAX_PROCS=2
GOMAXPROCS=2
